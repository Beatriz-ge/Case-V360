<div class="page">
  <div class="card">

    <h1 class="title"><%= @list.title %></h1>

    <%= form_with model: [@list, @task], local: true, class: "task-form" do |f| %>

      <div class="form-group">
        <%= f.label :title, "Nova Tarefa", class: "subtitle" %>
        <%= f.text_field :title, class: "input" %>
      </div>

      <div class="form-actions">
        <%= f.submit "Adicionar", class: "btn primary" %>
      </div>

    <% end %>

    <hr>

    <h2 class="subtitle">Minhas Tarefas</h2>

    <ul class="task-list">
      <% @list.tasks.each do |task| %>
        <li class="task-item <%= 'done' if task.completed %>">

          <span class="task-title">
            <%= task.completed ? "âœ”" : "â—‹" %>
            <%= task.title %>
          </span>

          <div class="task-actions">
            <%= form_with model: [@list, task], method: :patch, local: true, class: "inline-form" do |f| %>
              <%= f.submit "Concluir", class: "btn small success" %>
            <% end %>

            <%= form_with model: [@list, task], method: :delete, local: true, class: "inline-form" do |f| %>
              <%= f.submit "Excluir", class: "btn small danger", data: { confirm: "Tem certeza?" } %>
            <% end %>
          </div>

        </li>
      <% end %>
    </ul>

    <%= link_to "Voltar para todas as listas", todo_lists_path, class: "back-link" %>

  </div>
</div>
